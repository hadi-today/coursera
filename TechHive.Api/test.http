@api_host = http://localhost:5066
@api_key = "MySuperSecretKey_DoNotHardcodeInRealApps_12345"

###
# 1. تست اندپوینت کاربران - بدون API Key
# انتظار می‌رود: کد 401 Unauthorized
GET {{api_host}}/api/users
Content-Type: application/json

###
# 2. تست اندپوینت کاربران - با API Key اشتباه
# انتظار می‌رود: کد 401 Unauthorized
GET {{api_host}}/api/users
Content-Type: application/json
X-Api-Key: wrong-key

###
# 3. تست اندپوینت کاربران - با API Key درست
# انتظار می‌رود: کد 200 OK و لیست کاربران
GET {{api_host}}/api/users
Content-Type: application/json
X-Api-Key: {{api_key}}

###
# 4. تست اندپوینت عمومی (که با /api شروع نمی‌شود)
# انتظار می‌رود: کد 200 OK چون Middleware روی آن اعمال نمی‌شود
GET {{api_host}}/test/public
Content-Type: application/json